{"version":3,"sources":["js/app.functions.js","js/app.js","js/index.js","../../../.nvm/versions/node/v11.10.0/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../.nvm/versions/node/v11.10.0/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["raf","fn","window","requestAnimationFrame","fadeOut","item","hendler","style","display","classList","remove","removeEventListener","add","addEventListener","fadeIn","makeProductItem","$template","product","querySelector","setAttribute","id","textContent","name","picture","price","updateTotal","quantities","total","$cartTotal","document","items","children","Array","from","forEach","parseFloat","Math","round","toFixed","saveCart","shoppingCart","localStorage","JSON","stringify","console","log","productInCart","template","Id","Quantity","Product","Price","trim","substring","Picture","showCart","length","innerHTML","getElementById","content","append","importNode","openCart","closeCart","getElement","e","element","parentNode","getAttribute","quantity","value","_translate","img","offset","rect","getBoundingClientRect","elements","push","left","top","join","parse","url","fetch","then","response","status","json","data","index","plus","querySelectorAll","elem","val","parseInt","previousElementSibling","minus","nextElementSibling","byes","getElementsByClassName","buy","target","cancels","cancel","carts","cart","o","i","imgToDrag","imgClone","cloneNode","body","appendChild","transform","animate","duration","onfinish","removeItem","matches","splice","indexOf","find","x","catch","err","bundleURL","getBundleURLCached","getBundleURL","Error","stack","match","getBaseURL","replace","exports","bundle","require","updateLink","link","newLink","onload","href","split","Date","now","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","module"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AGAA,IAAI6H,SAAS,GAAG,IAAhB;;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIC,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOJ,GAAP,EAAY;AACZ,QAAIN,OAAO,GAAG,CAAC,KAAKM,GAAG,CAACK,KAAV,EAAiBC,KAAjB,CAAuB,gCAAvB,CAAd;;AACA,QAAIZ,OAAJ,EAAa;AACX,aAAOa,UAAU,CAACb,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASa,UAAT,CAAoBjD,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWkD,OAAX,CAAmB,uCAAnB,EAA4D,IAA5D,IAAoE,GAA3E;AACD;;AAEDC,OAAO,CAACN,YAAR,GAAuBD,kBAAvB;AACAO,OAAO,CAACF,UAAR,GAAqBA,UAArB;;AC5BA,IAAIG,MAAM,GAAGC,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,OAAO,GAAGD,IAAI,CAAC3B,SAAL,EAAd;;AACA4B,EAAAA,OAAO,CAACC,MAAR,GAAiB,YAAY;AAC3BF,IAAAA,IAAI,CAAC/H,MAAL;AACD,GAFD;;AAGAgI,EAAAA,OAAO,CAACE,IAAR,GAAeH,IAAI,CAACG,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;AACAN,EAAAA,IAAI,CAACtE,UAAL,CAAgB6E,YAAhB,CAA6BN,OAA7B,EAAsCD,IAAI,CAACQ,WAA3C;AACD;;AAED,IAAIC,UAAU,GAAG,IAAjB;;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,EAAAA,UAAU,GAAGE,UAAU,CAAC,YAAY;AAClC,QAAIC,KAAK,GAAGxH,QAAQ,CAAC8D,gBAAT,CAA0B,wBAA1B,CAAZ;;AACA,SAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0C,KAAK,CAAC7F,MAA1B,EAAkCmD,CAAC,EAAnC,EAAuC;AACrC,UAAI2B,MAAM,CAACH,UAAP,CAAkBkB,KAAK,CAAC1C,CAAD,CAAL,CAASiC,IAA3B,MAAqCN,MAAM,CAACP,YAAP,EAAzC,EAAgE;AAC9DS,QAAAA,UAAU,CAACa,KAAK,CAAC1C,CAAD,CAAN,CAAV;AACD;AACF;;AAEDuC,IAAAA,UAAU,GAAG,IAAb;AACD,GATsB,EASpB,EAToB,CAAvB;AAUD;;AAEDI,MAAM,CAACjB,OAAP,GAAiBc,SAAjB;;;;;;;;;;;;;;;;;;AJ7BA;;;;;;;;;;;;;;;AAEA,SAASnJ,GAAT,CAAaC,EAAb,EAAiB;AACbC,EAAAA,MAAM,CAACC,qBAAP,CAA6B,YAAY;AACrCD,IAAAA,MAAM,CAACC,qBAAP,CAA6B,YAAY;AACrCF,MAAAA,EAAE;AACL,KAFD;AAGH,GAJD;AAKH;;AAGD,SAASG,OAAT,CAAiBC,IAAjB,EAAuB;AACnB,MAAIC,OAAO,GAAG,SAAVA,OAAU,GAAY;AACtBD,IAAAA,IAAI,CAACE,KAAL,CAAWC,OAAX,GAAqB,MAArB;AACAH,IAAAA,IAAI,CAACI,SAAL,CAAeC,MAAf,CAAsB,aAAtB;AACAL,IAAAA,IAAI,CAACM,mBAAL,CAAyB,eAAzB,EAA0CL,OAA1C;AACH,GAJD;;AAKAD,EAAAA,IAAI,CAACI,SAAL,CAAeG,GAAf,CAAmB,aAAnB;AACAP,EAAAA,IAAI,CAACQ,gBAAL,CAAsB,eAAtB,EAAuCP,OAAvC;AACH;;AAED,SAASQ,MAAT,CAAgBT,IAAhB,EAAsB;AAClB,MAAIC,OAAO,GAAG,SAAVA,OAAU,GAAY;AACtBD,IAAAA,IAAI,CAACI,SAAL,CAAeC,MAAf,CAAsB,aAAtB;AACAL,IAAAA,IAAI,CAACM,mBAAL,CAAyB,eAAzB,EAA0CL,OAA1C;AACH,GAHD;;AAIAD,EAAAA,IAAI,CAACE,KAAL,CAAWC,OAAX,GAAqB,OAArB;AACAH,EAAAA,IAAI,CAACI,SAAL,CAAeG,GAAf,CAAmB,MAAnB;AAEAZ,EAAAA,GAAG,CAAC,YAAY;AACZK,IAAAA,IAAI,CAACI,SAAL,CAAeG,GAAf,CAAmB,cAAnB;AACAP,IAAAA,IAAI,CAACI,SAAL,CAAeC,MAAf,CAAsB,MAAtB;AACH,GAHE,CAAH;AAKAL,EAAAA,IAAI,CAACQ,gBAAL,CAAsB,eAAtB,EAAuCP,OAAvC;AACH;;AAED,SAASS,eAAT,CAAyBC,SAAzB,EAAoCC,OAApC,EAA6C;AACzCD,EAAAA,SAAS,CAACE,aAAV,CAAwB,UAAxB,EAAoCC,YAApC,CAAiD,WAAjD,EAA8DF,OAAO,CAACG,EAAtE;AACAJ,EAAAA,SAAS,CAACE,aAAV,CAAwB,eAAxB,EAAyCG,WAAzC,GAAuDJ,OAAO,CAACK,IAA/D;AACAN,EAAAA,SAAS,CAACE,aAAV,CAAwB,KAAxB,EAA+BC,YAA/B,CAA4C,KAA5C,EAAmD,YAAWF,OAAO,CAACM,OAAtE;AACAP,EAAAA,SAAS,CAACE,aAAV,CAAwB,KAAxB,EAA+BC,YAA/B,CAA4C,KAA5C,EAAmDF,OAAO,CAACK,IAA3D;AACAN,EAAAA,SAAS,CAACE,aAAV,CAAwB,iBAAxB,EAA2CC,YAA3C,CAAwD,KAAxD,EAA+DF,OAAO,CAACK,IAAvE;AACAN,EAAAA,SAAS,CAACE,aAAV,CAAwB,gBAAxB,EAA0CG,WAA1C,GAAwD,MAAIJ,OAAO,CAACO,KAApE;AACA,SAAOR,SAAP;AACH;;AAED,SAASS,WAAT,GAAuB;AACnB,MAAIC,UAAU,GAAG,CAAjB;AAAA,MACAC,KAAK,GAAG,CADR;AAAA,MAEAC,UAAU,GAAGC,QAAQ,CAACX,aAAT,CAAuB,kBAAvB,CAFb;AAAA,MAGAY,KAAK,GAAGD,QAAQ,CAACX,aAAT,CAAuB,aAAvB,EAAsCa,QAH9C;AAIAC,EAAAA,KAAK,CAACC,IAAN,CAAWH,KAAX,EAAkBI,OAAlB,CAA0B,UAAU7B,IAAV,EAAgB;AACtCsB,IAAAA,KAAK,IAAIQ,UAAU,CAAC9B,IAAI,CAACa,aAAL,CAAmB,cAAnB,EAAmCG,WAApC,CAAnB;AACH,GAFD;AAGAO,EAAAA,UAAU,CAACP,WAAX,GAAyBc,UAAU,CAACC,IAAI,CAACC,KAAL,CAAWV,KAAK,GAAG,GAAnB,IAA0B,GAA3B,CAAV,CAA0CW,OAA1C,CAAkD,CAAlD,CAAzB;AAEH;;AAGD,SAASC,QAAT,CAAkBC,YAAlB,EAAgC;AAC5B;AACAC,EAAAA,YAAY,CAACD,YAAb,GAA4BE,IAAI,CAACC,SAAL,CAAeH,YAAf,CAA5B;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,SAAL,CAAeH,YAAf,CAAZ;AACH;;AAED,SAASM,aAAT,CAAuBC,QAAvB,EAAiC1C,IAAjC,EAAuC;AACnC0C,EAAAA,QAAQ,CAAC7B,aAAT,CAAuB,gBAAvB,EAAyCC,YAAzC,CAAsD,IAAtD,EAA4Dd,IAAI,CAAC2C,EAAjE;AACAD,EAAAA,QAAQ,CAAC7B,aAAT,CAAuB,gBAAvB,EAAyCG,WAAzC,GAAuDhB,IAAI,CAAC4C,QAA5D;AACAF,EAAAA,QAAQ,CAAC7B,aAAT,CAAuB,YAAvB,EAAqCG,WAArC,GAAmDhB,IAAI,CAAC6C,OAAxD;AACAH,EAAAA,QAAQ,CAAC7B,aAAT,CAAuB,aAAvB,EAAsCG,WAAtC,GAAoDhB,IAAI,CAAC8C,KAAzD;AACAJ,EAAAA,QAAQ,CAAC7B,aAAT,CAAuB,cAAvB,EAAuCG,WAAvC,GAAqDc,UAAU,CAAC9B,IAAI,CAAC4C,QAAN,CAAV,GAA4Bd,UAAU,CAAC9B,IAAI,CAAC8C,KAAL,CAAWC,IAAX,GAAkBC,SAAlB,CAA4B,CAA5B,CAAD,CAA3F;AACAN,EAAAA,QAAQ,CAAC7B,aAAT,CAAuB,eAAvB,EAAwCC,YAAxC,CAAqD,KAArD,EAA4Dd,IAAI,CAACiD,OAAjE;AACA,SAAOP,QAAP;AACH;;AAED,SAASQ,QAAT,CAAkBf,YAAlB,EAAgC;AAC5B,MAAIA,YAAY,CAACgB,MAAb,IAAuB,CAA3B,EAA8B;AAC1BZ,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACA;AACH;;AACDhB,EAAAA,QAAQ,CAACX,aAAT,CAAuB,aAAvB,EAAsCuC,SAAtC,GAAkD,EAAlD;AACAjB,EAAAA,YAAY,CAACN,OAAb,CAAqB,UAAU7B,IAAV,EAAgB;AACjC,QAAI0C,QAAQ,GAAGlB,QAAQ,CAAC6B,cAAT,CAAwB,UAAxB,EAAoCC,OAAnD;AACAb,IAAAA,aAAa,CAACC,QAAD,EAAW1C,IAAX,CAAb;AACAwB,IAAAA,QAAQ,CAACX,aAAT,CAAuB,aAAvB,EAAsC0C,MAAtC,CAA6C/B,QAAQ,CAACgC,UAAT,CAAoBf,aAAa,CAACC,QAAD,EAAW1C,IAAX,CAAjC,EAAmD,IAAnD,CAA7C;AACH,GAJD;AAKAoB,EAAAA,WAAW;AACd;;AAED,SAASqC,QAAT,CAAkBtB,YAAlB,EAAgC;AAC5Be,EAAAA,QAAQ,CAACf,YAAD,CAAR;AACAX,EAAAA,QAAQ,CAACX,aAAT,CAAuB,QAAvB,EAAiCT,SAAjC,CAA2CG,GAA3C,CAA+C,MAA/C;AACAiB,EAAAA,QAAQ,CAACX,aAAT,CAAuB,WAAvB,EAAoCT,SAApC,CAA8CG,GAA9C,CAAkD,gBAAlD;AACH;;AAED,SAASmD,SAAT,GAAqB;AACjBlC,EAAAA,QAAQ,CAACX,aAAT,CAAuB,QAAvB,EAAiCT,SAAjC,CAA2CC,MAA3C,CAAkD,MAAlD;AACAmB,EAAAA,QAAQ,CAACX,aAAT,CAAuB,WAAvB,EAAoCT,SAApC,CAA8CC,MAA9C,CAAqD,gBAArD;AACH;;AAED,SAASsD,UAAT,CAAoBC,CAApB,EAAuB;AACnB,MAAIC,OAAO,GAAGD,CAAC,CAACE,UAAF,CAAaA,UAA3B;AAEA,SAAO;AACH/C,IAAAA,EAAE,EAAE8C,OAAO,CAACE,YAAR,CAAqB,WAArB,CADD;AAEH5C,IAAAA,KAAK,EAACyC,CAAC,CAACE,UAAF,CAAajD,aAAb,CAA2B,gBAA3B,EAA6CG,WAFhD;AAGHC,IAAAA,IAAI,EAAC4C,OAAO,CAAChD,aAAR,CAAsB,eAAtB,EAAuCG,WAHzC;AAIHgD,IAAAA,QAAQ,EAACH,OAAO,CAAChD,aAAR,CAAsB,WAAtB,EAAmCoD,KAJzC;AAKH/C,IAAAA,OAAO,EAAC2C,OAAO,CAAChD,aAAR,CAAsB,KAAtB,EAA6BkD,YAA7B,CAA0C,KAA1C;AALL,GAAP;AAQH;;AAED,SAASG,UAAT,CAAoBC,GAApB,EAAkC;AAAA,MAATC,MAAS,uEAAF,CAAE;AAC9B,MAAIC,IAAI,GAAGF,GAAG,CAACG,qBAAJ,EAAX;AACA,MAAIC,QAAQ,GAAG,CAAC,cAAD,CAAf;AACAA,EAAAA,QAAQ,CAACC,IAAT,CAAcH,IAAI,CAACI,IAAL,GAAYL,MAAZ,GAAqB,KAAnC;AACAG,EAAAA,QAAQ,CAACC,IAAT,CAAcH,IAAI,CAACK,GAAL,GAAWN,MAAX,GAAoB,OAAlC;AACA,SAAOG,QAAQ,CAACI,IAAT,CAAc,EAAd,CAAP;AACH;;ACxHD;;AAEA;;;;;;;;;;AAYA;AACA,CAAC,YAAY;AAET,MAAIxC,YAAY,GAAG,EAAnB;;AAEA,MAAIC,YAAY,CAACD,YAAjB,EAA+B;AAC3BA,IAAAA,YAAY,GAAGE,IAAI,CAACuC,KAAL,CAAWxC,YAAY,CAACD,YAAxB,CAAf;AACH;;AAEDX,EAAAA,QAAQ,CAAC6B,cAAT,CAAwB,aAAxB,EAAuC7C,gBAAvC,CAAwD,OAAxD,EAAiE;AAAA,WAAM,mBAAS2B,YAAT,CAAN;AAAA,GAAjE;AACAX,EAAAA,QAAQ,CAACX,aAAT,CAAuB,iBAAvB,EAA0CL,gBAA1C,CAA2D,OAA3D,EAAoE;AAAA,WAAM,qBAAN;AAAA,GAApE,EATS,CAWT;;AACA,MAAMG,SAAS,GAAGa,QAAQ,CAAC6B,cAAT,CAAwB,aAAxB,EAAuCC,OAAzD;AAEA,MAAMuB,GAAG,GAAG,gCAAZ,CAdS,CAgBT;AACA;;AAEAC,EAAAA,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CAEQ,UAACC,QAAD,EAAc;AACV,QAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB1C,MAAAA,OAAO,CAACC,GAAR,CAAY,kDAAkDwC,QAAQ,CAACC,MAAvE;AACA;AACH;;AACDD,IAAAA,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,UAACI,IAAD,EAAU;AAE3BA,MAAAA,IAAI,CAACtD,OAAL,CAAa,UAACuD,KAAD,EAAW;AACpB5D,QAAAA,QAAQ,CAACX,aAAT,CAAuB,OAAvB,EAAgC0C,MAAhC,CAAuC/B,QAAQ,CAACgC,UAAT,CAAoB,0BAAgB7C,SAAhB,EAA2ByE,KAA3B,CAApB,EAAuD,IAAvD,CAAvC;AACH,OAFD,EAF2B,CAM3B;AACA;;AAEA,UAAIC,IAAI,sBAAO7D,QAAQ,CAAC8D,gBAAT,CAA0B,OAA1B,CAAP,CAAR,CAT2B,CAU3B;;;AAEAD,MAAAA,IAAI,CAACxD,OAAL,CAAa,UAAU0D,IAAV,EAAgB;AACzBA,QAAAA,IAAI,CAAC/E,gBAAL,CAAsB,OAAtB,EAA+B,YAAY;AACvC,cAAIgF,GAAG,GAAGC,QAAQ,CAAC,KAAKC,sBAAL,CAA4B3B,YAA5B,CAAyC,OAAzC,CAAD,CAAlB;AACA,eAAK2B,sBAAL,CAA4B5E,YAA5B,CAAyC,OAAzC,EAAkD0E,GAAG,GAAG,CAAxD;AACH,SAHD;AAIH,OALD,EAZ2B,CAmB3B;AACA;;AACA,UAAIG,KAAK,sBAAOnE,QAAQ,CAAC8D,gBAAT,CAA0B,QAA1B,CAAP,CAAT;;AAEAK,MAAAA,KAAK,CAAC9D,OAAN,CAAc,UAAC0D,IAAD,EAAU;AACpBA,QAAAA,IAAI,CAAC/E,gBAAL,CAAsB,OAAtB,EAA+B,YAAY;AACvC,cAAIgF,GAAG,GAAGC,QAAQ,CAAC,KAAKG,kBAAL,CAAwB7B,YAAxB,CAAqC,OAArC,CAAD,CAAlB;AACA,eAAK6B,kBAAL,CAAwB9E,YAAxB,CAAqC,OAArC,EAA8C0E,GAAG,GAAG,CAApD;AACH,SAHD;AAIH,OALD;AAQA,UAAMK,IAAI,GAAGlE,KAAK,CAACC,IAAN,CAAWJ,QAAQ,CAACsE,sBAAT,CAAgC,SAAhC,CAAX,CAAb;AACAD,MAAAA,IAAI,CAAChE,OAAL,CAAa,UAAUkE,GAAV,EAAe;AACxBA,QAAAA,GAAG,CAACvF,gBAAJ,CAAqB,OAArB,EAA8B,UAAUoD,CAAV,EAAa;AACvC,4BAAQA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBA,UAApB,CAA+BjD,aAA/B,CAA6C,eAA7C,CAAR;AACA,4BAAQ+C,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBA,UAApB,CAA+BjD,aAA/B,CAA6C,OAA7C,CAAR;AACA+C,UAAAA,CAAC,CAACoC,MAAF,CAAS9F,KAAT,CAAeC,OAAf,GAAyB,MAAzB;AACAyD,UAAAA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBjD,aAApB,CAAkC,iBAAlC,EAAqDX,KAArD,CAA2DC,OAA3D,GAAqE,OAArE;AACAyD,UAAAA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoB5D,KAApB,CAA0BwE,GAA1B,GAAgC,KAAhC;AACH,SAND;AAOH,OARD;AAUA,UAAMuB,OAAO,GAAGtE,KAAK,CAACC,IAAN,CAAWJ,QAAQ,CAACsE,sBAAT,CAAgC,QAAhC,CAAX,CAAhB;AACAG,MAAAA,OAAO,CAACpE,OAAR,CAAgB,UAAUqE,MAAV,EAAkB;AAC9BA,QAAAA,MAAM,CAAC1F,gBAAP,CAAwB,OAAxB,EAAiC,UAAUoD,CAAV,EAAa;AAC1C,2BAAOA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBA,UAApB,CAA+BjD,aAA/B,CAA6C,eAA7C,CAAP;AACA,2BAAO+C,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBA,UAApB,CAA+BjD,aAA/B,CAA6C,OAA7C,CAAP;AACA+C,UAAAA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBjD,aAApB,CAAkC,UAAlC,EAA8CX,KAA9C,CAAoDC,OAApD,GAA8D,OAA9D;AACAyD,UAAAA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBjD,aAApB,CAAkC,iBAAlC,EAAqDX,KAArD,CAA2DC,OAA3D,GAAqE,MAArE;AACAyD,UAAAA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoB5D,KAApB,CAA0BwE,GAA1B,GAAgC,KAAhC;AACH,SAND;AAOH,OARD,EA3C2B,CAoD3B;;AACA,UAAMyB,KAAK,GAAGxE,KAAK,CAACC,IAAN,CAAWJ,QAAQ,CAACsE,sBAAT,CAAgC,aAAhC,CAAX,CAAd,CArD2B,CAuD3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;AAEAK,MAAAA,KAAK,CAACtE,OAAN,CAAc,UAAUuE,IAAV,EAAgB;AAC1BA,QAAAA,IAAI,CAAC5F,gBAAL,CAAsB,OAAtB,EAA+B,UAAUoD,CAAV,EAAa;AAExC,cAAIC,OAAO,GAAGD,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBA,UAAlC;AACA,cAAIuC,CAAC,GAAG,qBAAWzC,CAAC,CAACoC,MAAb,CAAR;;AAEA,eAAK,IAAIM,CAAT,IAAcnE,YAAd,EAA4B;AACxB,gBAAIA,YAAY,CAACmE,CAAD,CAAZ,CAAgB3D,EAAhB,IAAsB0D,CAAC,CAACtF,EAA5B,EAAgC;AAC5BoB,cAAAA,YAAY,CAACmE,CAAD,CAAZ,CAAgB1D,QAAhB,GAA2B6C,QAAQ,CAACtD,YAAY,CAACmE,CAAD,CAAZ,CAAgB1D,QAAjB,CAAR,GAAqC6C,QAAQ,CAACY,CAAC,CAACrC,QAAH,CAAxE;AACA,iCAAS7B,YAAT;AACA;AACH;AACJ;;AAED,cAAInC,IAAI,GAAG;AACP2C,YAAAA,EAAE,EAAE0D,CAAC,CAACtF,EADC;AAEP8B,YAAAA,OAAO,EAAEwD,CAAC,CAACpF,IAFJ;AAGP6B,YAAAA,KAAK,EAAEuD,CAAC,CAAClF,KAHF;AAIPyB,YAAAA,QAAQ,EAAEyD,CAAC,CAACrC,QAJL;AAKPf,YAAAA,OAAO,EAAEoD,CAAC,CAACnF;AALJ,WAAX;AAQAiB,UAAAA,YAAY,CAACqC,IAAb,CAAkBxE,IAAlB;AACA,6BAASmC,YAAT,EAtBwC,CAwBxC;;AACA,cAAIoE,SAAS,GAAG1C,OAAO,CAAChD,aAAR,CAAsB,KAAtB,CAAhB;;AAEA,cAAI0F,SAAJ,EAAe;AACX,gBAAIC,QAAQ,GAAGD,SAAS,CAACE,SAAV,CAAoB,IAApB,CAAf;AACAD,YAAAA,QAAQ,CAACpG,SAAT,CAAmBG,GAAnB,CAAuB,YAAvB;AACAiB,YAAAA,QAAQ,CAACkF,IAAT,CAAcC,WAAd,CAA0BH,QAA1B;AAEA3C,YAAAA,OAAO,CAACC,UAAR,CAAmBA,UAAnB,CAA8BjD,aAA9B,CAA4C,kBAA5C,EAAgEX,KAAhE,CAAsE0G,SAAtE,GAAkF,iBAAlF;AACA/C,YAAAA,OAAO,CAACC,UAAR,CAAmBA,UAAnB,CAA8BjD,aAA9B,CAA4C,eAA5C,EAA6DT,SAA7D,CAAuEG,GAAvE,CAA2E,iBAA3E;;AAEAiG,YAAAA,QAAQ,CAACK,OAAT,CAAiB,CAAC;AACVD,cAAAA,SAAS,EAAE,qBAAWL,SAAX;AADD,aAAD,EAGb;AACIK,cAAAA,SAAS,EAAE,qBAAWpF,QAAQ,CAACX,aAAT,CAAuB,cAAvB,CAAX,EAAmD,EAAnD,IAAuD;AADtE,aAHa,CAAjB,EAMG;AACCiG,cAAAA,QAAQ,EAAE;AADX,aANH,EAQGC,QARH,GAQc,YAAY;AACtBP,cAAAA,QAAQ,CAACnG,MAAT;AACAwD,cAAAA,OAAO,CAACC,UAAR,CAAmBA,UAAnB,CAA8BjD,aAA9B,CAA4C,kBAA5C,EAAgEX,KAAhE,CAAsE0G,SAAtE,GAAkF,eAAlF;AACA,+BAAO/C,OAAO,CAAChD,aAAR,CAAsB,eAAtB,CAAP;AACA,+BAAOgD,OAAO,CAAChD,aAAR,CAAsB,OAAtB,CAAP;AACA+C,cAAAA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBjD,aAApB,CAAkC,UAAlC,EAA8CX,KAA9C,CAAoDC,OAApD,GAA8D,OAA9D;AACAyD,cAAAA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBjD,aAApB,CAAkC,iBAAlC,EAAqDX,KAArD,CAA2DC,OAA3D,GAAqE,MAArE;AACAyD,cAAAA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoB5D,KAApB,CAA0BwE,GAA1B,GAAgC,KAAhC;AACH,aAhBD;AAiBH;AACJ,SArDD;AAsDH,OAvDD,EAnI2B,CA4L3B;;AAEAlD,MAAAA,QAAQ,CAACX,aAAT,CAAuB,aAAvB,EAAsCL,gBAAtC,CAAuD,OAAvD,EAAgE,YAAM;AAClE4B,QAAAA,YAAY,CAAC4E,UAAb,CAAwB,cAAxB;AACAxF,QAAAA,QAAQ,CAACX,aAAT,CAAuB,aAAvB,EAAsCuC,SAAtC,GAAkD,EAAlD;AACAjB,QAAAA,YAAY,GAAG,EAAf;AACA;AACH,OALD;AAOAX,MAAAA,QAAQ,CAACX,aAAT,CAAuB,aAAvB,EAAsCL,gBAAtC,CAAuD,OAAvD,EAAgE,UAACoD,CAAD,EAAO;AACnE,YAAIA,CAAC,CAACoC,MAAF,IAAYpC,CAAC,CAACoC,MAAF,CAASiB,OAAT,CAAiB,cAAjB,CAAhB,EAAkD;AAC9C,cAAI7B,KAAK,GAAGxB,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBjD,aAApB,CAAkC,gBAAlC,EAAoDkD,YAApD,CAAiE,IAAjE,CAAZ;AACA5B,UAAAA,YAAY,CAAC+E,MAAb,CAAoB/E,YAAY,CAACgF,OAAb,CAAqBhF,YAAY,CAACiF,IAAb,CAAkB,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAAC1E,EAAF,KAASyC,KAAb;AAAA,WAAnB,CAArB,CAApB,EAAkF,CAAlF;AACAxB,UAAAA,CAAC,CAACoC,MAAF,CAASlC,UAAT,CAAoBzD,MAApB;AACA,6BAAS8B,YAAT;AACA;AACH;AACJ,OARD,EAQG,KARH;AASH,KA9MD;AA+MH,GAtNT,EAuNKmF,KAvNL,CAuNW,UAAUC,GAAV,EAAe;AAClBhF,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B+E,GAA/B;AACH,GAzNL,EAnBS,CA+OT;AACH,CAhPD;;ACfA;;AACA;;AAIA","file":"js.00a46daa.map","sourceRoot":"../src","sourcesContent":["\"use strict\";\n\nfunction raf(fn) {\n    window.requestAnimationFrame(function () {\n        window.requestAnimationFrame(function () {\n            fn();\n        });\n    });\n}\n\n\nfunction fadeOut(item) {\n    let hendler = function () {\n        item.style.display = 'none';\n        item.classList.remove('fade-active');\n        item.removeEventListener('transitionend', hendler);\n    };\n    item.classList.add('fade-active');\n    item.addEventListener('transitionend', hendler);\n}\n\nfunction fadeIn(item) {\n    let hendler = function () {\n        item.classList.remove('fade-active');\n        item.removeEventListener('transitionend', hendler);\n    };\n    item.style.display = 'block';\n    item.classList.add('fade');\n\n    raf(function () {\n        item.classList.add('fade-passive');\n        item.classList.remove('fade');\n    });\n\n    item.addEventListener('transitionend', hendler);\n}\n\nfunction makeProductItem($template, product) {\n    $template.querySelector('.product').setAttribute('productId', product.id);\n    $template.querySelector('.product-name').textContent = product.name;\n    $template.querySelector('img').setAttribute('src', \"images/\"+ product.picture);\n    $template.querySelector('img').setAttribute('alt', product.name);\n    $template.querySelector('.product-detail').setAttribute('alt', product.name);\n    $template.querySelector('.product-price').textContent = '$'+product.price;\n    return $template;\n}\n\nfunction updateTotal() {\n    var quantities = 0,\n    total = 0,\n    $cartTotal = document.querySelector('.cart-total span'),\n    items = document.querySelector('.cart-items').children;\n    Array.from(items).forEach(function (item) {\n        total += parseFloat(item.querySelector('.item-prices').textContent);\n    });\n    $cartTotal.textContent = parseFloat(Math.round(total * 100) / 100).toFixed(2);\n\n}\n\n\nfunction saveCart(shoppingCart) {\n    // Store data\n    localStorage.shoppingCart = JSON.stringify(shoppingCart);\n    console.log(JSON.stringify(shoppingCart));\n}\n\nfunction productInCart(template, item) {\n    template.querySelector('.productInCart').setAttribute('id', item.Id);\n    template.querySelector('.item-quantity').textContent = item.Quantity;\n    template.querySelector('.item-name').textContent = item.Product;\n    template.querySelector('.item-price').textContent = item.Price;\n    template.querySelector('.item-prices').textContent = parseFloat(item.Quantity) * parseFloat(item.Price.trim().substring(1));\n    template.querySelector('.item-img img').setAttribute('src', item.Picture);\n    return template;\n}\n\nfunction showCart(shoppingCart) {\n    if (shoppingCart.length == 0) {\n        console.log(\"Your Shopping Cart is Empty!\");\n        return;\n    }\n    document.querySelector(\".cart-items\").innerHTML = '';\n    shoppingCart.forEach(function (item) {\n        let template = document.getElementById(\"cartItem\").content;\n        productInCart(template, item);\n        document.querySelector(\".cart-items\").append(document.importNode(productInCart(template, item), true));\n    });\n    updateTotal();\n}\n\nfunction openCart(shoppingCart) {\n    showCart(shoppingCart);\n    document.querySelector(\".aside\").classList.add(\"open\");\n    document.querySelector(\".backdrop\").classList.add(\"backdrop--open\");\n}\n\nfunction closeCart() {\n    document.querySelector(\".aside\").classList.remove(\"open\");\n    document.querySelector(\".backdrop\").classList.remove(\"backdrop--open\");\n}\n\nfunction getElement(e) {\n    let element = e.parentNode.parentNode;\n    \n    return {\n        id: element.getAttribute(\"productId\"),\n        price:e.parentNode.querySelector(\".product-price\").textContent,\n        name:element.querySelector(\".product-name\").textContent,\n        quantity:element.querySelector(\".quantity\").value,\n        picture:element.querySelector(\"img\").getAttribute('src')\n\t}\n    \n}\n\nfunction _translate(img, offset=0){\n    let rect = img.getBoundingClientRect();\n    let elements = ['translate3D('];\n    elements.push(rect.left - offset + 'px,');\n    elements.push(rect.top - offset + 'px,0)');\n    return elements.join('');\n}\n\nexport { fadeOut, fadeIn, makeProductItem, openCart, closeCart, saveCart, getElement, _translate, updateTotal };","\"use strict\";\n\nimport {\n    fadeOut,\n    fadeIn,\n    makeProductItem,\n    openCart,\n    closeCart,\n    saveCart,\n    getElement,\n    _translate,\n    updateTotal\n} from './app.functions';\n\n// ---------------------------------------------------------------------------------\n(function () {\n\n    var shoppingCart = [];\n\n    if (localStorage.shoppingCart) {\n        shoppingCart = JSON.parse(localStorage.shoppingCart);\n    }\n\n    document.getElementById(\"cart-toggle\").addEventListener('click', () => openCart(shoppingCart));\n    document.querySelector(\".toggle-sidebar\").addEventListener('click', () => closeCart());\n\n    // Контент шаблона\n    const $template = document.getElementById(\"productItem\").content;\n\n    const url = 'http://localhost:3000/products';\n\n    // const url = 'https://api.myjson.com/bins/wzxxy';\n    // const url = 'https://my-json-server.typicode.com/couchjanus/db/products';\n\n    fetch(url)\n        .then(\n            (response) => {\n                if (response.status !== 200) {\n                    console.log('Looks like there was a problem. Status Code: ' + response.status);\n                    return;\n                }\n                response.json().then((data) => {\n\n                    data.forEach((index) => {\n                        document.querySelector('.main').append(document.importNode(makeProductItem($template, index), true));\n                    });\n\n                    // let plus = document.getElementsByClassName('plus');\n                    // plus = Array.prototype.slice.call(plus); // теперь plus - массив\n\n                    let plus = [...document.querySelectorAll('.plus')];\n                    // Array.isArray(plus); // true\n\n                    plus.forEach(function (elem) {\n                        elem.addEventListener('click', function () {\n                            let val = parseInt(this.previousElementSibling.getAttribute('value'));\n                            this.previousElementSibling.setAttribute('value', val + 1);\n                        });\n                    });\n\n                    // let minus = document.getElementsByClassName('minus');\n                    // minus = Array.prototype.slice.call(minus); // теперь minus - массив\n                    let minus = [...document.querySelectorAll('.minus')];\n\n                    minus.forEach((elem) => {\n                        elem.addEventListener('click', function () {\n                            let val = parseInt(this.nextElementSibling.getAttribute('value'));\n                            this.nextElementSibling.setAttribute('value', val - 1);\n                        });\n                    });\n\n\n                    const byes = Array.from(document.getElementsByClassName('buy-now'));\n                    byes.forEach(function (buy) {\n                        buy.addEventListener('click', function (e) {\n                            fadeOut(e.target.parentNode.parentNode.querySelector('.product-name'));\n                            fadeOut(e.target.parentNode.parentNode.querySelector('.icon'));\n                            e.target.style.display = 'none';\n                            e.target.parentNode.querySelector('.product-detail').style.display = 'block';\n                            e.target.parentNode.style.top = '40%';\n                        });\n                    });\n\n                    const cancels = Array.from(document.getElementsByClassName('cancel'));\n                    cancels.forEach(function (cancel) {\n                        cancel.addEventListener('click', function (e) {\n                            fadeIn(e.target.parentNode.parentNode.querySelector('.product-name'));\n                            fadeIn(e.target.parentNode.parentNode.querySelector('.icon'));\n                            e.target.parentNode.querySelector('.buy-now').style.display = 'block';\n                            e.target.parentNode.querySelector('.product-detail').style.display = 'none';\n                            e.target.parentNode.style.top = '80%';\n                        });\n                    });\n                    // ==================================================================\n                    const carts = Array.from(document.getElementsByClassName('add-to-cart'));\n\n                    // carts.forEach(function (cart) {\n                    //     cart.addEventListener('click', function (e) {\n                    //         let element = e.target.parentNode.parentNode;\n                    //         let id = element.getAttribute(\"productId\");\n                    //         let price = e.target.parentNode.querySelector(\".product-price\").textContent;\n                    //         let name = element.querySelector(\".product-name\").textContent;\n                    //         let quantity = element.querySelector(\".quantity\").value;\n                    //         let picture = element.querySelector(\"img\").getAttribute('src');\n\n                    //         for (let i in shoppingCart) {\n                    //             if (shoppingCart[i].Id == id) {\n                    //                 shoppingCart[i].Quantity = parseInt(shoppingCart[i].Quantity) + parseInt(quantity);\n                    //                 saveCart(shoppingCart);\n                    //                 return;\n                    //             }\n                    //         }\n\n                    //         let item = {\n                    //             Id: id,\n                    //             Product: name,\n                    //             Price: price,\n                    //             Quantity: quantity,\n                    //             Picture: picture\n                    //         };\n\n                    //         shoppingCart.push(item);\n                    //         saveCart(shoppingCart);\n\n                    //         // Поиск элемента с заданным номером\n                    //         var imgToDrag = e.target.parentNode.parentNode.querySelector(\"img\");\n\n                    //         let rectOrigin = imgToDrag.getBoundingClientRect();\n                    //         let toLeftStart = rectOrigin.left + 'px';\n                    //         let toTopStart = rectOrigin.top + 'px';\n                    //         console.log(toLeftStart, toTopStart);\n\n                    //         if (imgToDrag) {\n                    //             var imgClone = imgToDrag.cloneNode(true);\n                    //             imgClone.style.left = 0;\n                    //             imgClone.style.top = 0;\n                    //             imgClone.classList.add('offset-img');\n                    //             imgClone.style.height = '150px';\n                    //             imgClone.style.width = '150px';\n                    //             document.body.appendChild(imgClone);\n\n                    //             e.target.parentNode.parentNode.parentNode.parentNode.querySelector('.product-wrapper').style.transform = 'rotateY(180deg)';\n                    //             e.target.parentNode.parentNode.parentNode.parentNode.querySelector('.product-back').classList.add('back-is-visible');\n\n                    //             let rect = document.querySelector('#cart-toggle').getBoundingClientRect();\n                    //             let toLeft = rect.left - 50 + 'px';\n                    //             let toTop = rect.top - 50 + 'px';\n\n                    //             imgClone.animate([{\n                    //                     transform: 'translate3D(' + toLeftStart + ',' + toTopStart + ', 0)'\n                    //                 },\n                    //                 {\n                    //                     transform: 'translate3D(' + toLeft + ',' + toTop + ',0) perspective(500px) scale3d(0.1, 0.1, 0.2)'\n                    //                 },\n                    //             ], {\n                    //                 duration: 2000,\n                    //             }).onfinish = function () {\n                    //                 imgClone.remove();\n                    //                 e.target.parentNode.parentNode.parentNode.parentNode.querySelector('.product-wrapper').style.transform = 'rotateY(0deg)';\n                    //                 fadeIn(e.target.parentNode.parentNode.querySelector('.product-name'));\n                    //                 fadeIn(e.target.parentNode.parentNode.querySelector('.icon'));\n                    //                 e.target.parentNode.querySelector('.buy-now').style.display = 'block';\n                    //                 e.target.parentNode.querySelector('.product-detail').style.display = 'none';\n                    //                 e.target.parentNode.style.top = '80%';\n                    //             };\n                    //         }\n                    //     });\n\n                    // });\n\n                    //===================================================================\n\n                    carts.forEach(function (cart) {\n                        cart.addEventListener('click', function (e) {\n\n                            let element = e.target.parentNode.parentNode;\n                            let o = getElement(e.target);\n\n                            for (let i in shoppingCart) {\n                                if (shoppingCart[i].Id == o.id) {\n                                    shoppingCart[i].Quantity = parseInt(shoppingCart[i].Quantity) + parseInt(o.quantity);\n                                    saveCart(shoppingCart);\n                                    return;\n                                }\n                            }\n\n                            let item = {\n                                Id: o.id,\n                                Product: o.name,\n                                Price: o.price,\n                                Quantity: o.quantity,\n                                Picture: o.picture\n                            };\n\n                            shoppingCart.push(item);\n                            saveCart(shoppingCart);\n\n                            // Поиск элемента с заданным номером\n                            var imgToDrag = element.querySelector(\"img\");\n\n                            if (imgToDrag) {\n                                var imgClone = imgToDrag.cloneNode(true);\n                                imgClone.classList.add('offset-img');\n                                document.body.appendChild(imgClone);\n\n                                element.parentNode.parentNode.querySelector('.product-wrapper').style.transform = 'rotateY(180deg)';\n                                element.parentNode.parentNode.querySelector('.product-back').classList.add('back-is-visible');\n\n                                imgClone.animate([{\n                                        transform: _translate(imgToDrag)\n                                    },\n                                    {\n                                        transform: _translate(document.querySelector('#cart-toggle'), 50)+'perspective(500px) scale3d(0.1, 0.1, 0.2)'\n                                    },\n                                ], {\n                                    duration: 2000,\n                                }).onfinish = function () {\n                                    imgClone.remove();\n                                    element.parentNode.parentNode.querySelector('.product-wrapper').style.transform = 'rotateY(0deg)';\n                                    fadeIn(element.querySelector('.product-name'));\n                                    fadeIn(element.querySelector('.icon'));\n                                    e.target.parentNode.querySelector('.buy-now').style.display = 'block';\n                                    e.target.parentNode.querySelector('.product-detail').style.display = 'none';\n                                    e.target.parentNode.style.top = '80%';\n                                };\n                            }\n                        });\n                    });\n\n                    // =================Очистка всего хранилища================\n\n                    document.querySelector('.clear-cart').addEventListener('click', () => { \n                        localStorage.removeItem('shoppingCart');\n                        document.querySelector('.cart-items').innerHTML = '';\n                        shoppingCart = [];\n                        updateTotal();\n                    });\n\n                    document.querySelector('.cart-items').addEventListener('click', (e) => {\n                        if (e.target && e.target.matches(\".remove-item\")) {\n                            var index = e.target.parentNode.querySelector('.productInCart').getAttribute(\"id\");\n                            shoppingCart.splice(shoppingCart.indexOf(shoppingCart.find(x => x.Id === index)), 1);\n                            e.target.parentNode.remove();\n                            saveCart(shoppingCart);\n                            updateTotal();\n                        }\n                    }, false);\n                });\n            })\n        .catch(function (err) {\n            console.log('Fetch Error :-S', err);\n        });\n\n\n    // ====================================================================\n})();","'use strict';\nimport '../sass/main.scss';\n\n// import './test';\n// import './appjq';\nimport './app';\n\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}